<!--
*   Assign Roles - Superuser
*   - This document contains the Assign roles functionality that is only accessable by the superUser
*
*   Authors: T-RISE (COS 301 team 2015)
             		Antonia Michael (13014171)
					Isabel Nel (13070305)
					Elana Kuun (12029522)
					Rendani Dau (13381467)
					Semaka Malapane (13081129)
*
-->
<section class="row" data-ng-controller="superuserController">

	<!--ALERT BOX FOR HELP-->
			<script type="text/ng-template" id="alert.html">
					<div class="alert" style="background-color:#fa39c3;color:white" role="alert">
						<div ng-transclude></div>
					</div>
			</script>

			<div  data-ng-controller="MenuItemsController">
				<h4> Administrative settings <button id="alertUser" type="button" class='btn btn-default' ng-click="helpAlert()" style="float: right;"> ?</button> </h4>
				<hr>
				<alert ng-show="alertUser == true"  type="warning" close="closeAlert($index)">{{alert13.msg}}</alert>
			</div>
 <!--END ALERT BOX -->


	<div class="list-group clearfix">
		<a href="#" class="list-group-item disabled">
			Admin settings
		</a>


<!--Display assign roles section -->
<div data-ng-controller="HeaderController">

</div>
<div class="list-group-item clearfix">

	<!--ALERT BOX FOR HELP-->
			<script type="text/ng-template" id="alert.html">
					<div class="alert" style="background-color:#fa39c3;color:white" role="alert">
						<div ng-transclude></div>
					</div>
			</script>

			<div  data-ng-controller="MenuItemsController">
				<h4> Assign Roles <button id="alertUser" type="button" class='btn btn-default' ng-click="helpAlert()" style="float: right;"> ?</button> </h4>
				<alert ng-show="alertUser == true"  type="warning" close="closeAlert($index)">{{alert14.msg}}</alert>
			</div>
	<!--END ALERT BOX -->



	<div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">
	<form name="userForm" data-ng-submit="assignRoles(userForm.$valid)" confirm="Are you sure, {{name}}?"  confirm-settings="{size: 'sm'}" class="signin form-horizontal" autocomplete="on">
		<fieldset>
			<div class="form-group">
				<label for="emp_id">Employee ID</label>
				<!--input type="text" id="emp_id" name="emp_id" class="form-control" data-ng-model="emp_id" placeholder="Employee ID"-->
                <div ng-init="loadEmployees()" >
                    <select id="emp_id" name="emp_id" class="form-control" data-ng-model='emp_id'/>
                    <option ng-repeat="employee in employees" value="{{employee.username}}"> {{employee.username}}</option>
                    </select><br>
                </div>
			</div>
			<div class="form-group">
				<label for="role">Role</label>
				<select id="role" name="role" class="form-control" data-ng-model="role">
					<option value='admin'>Admin</option>
					<option value='cafeteriaManager'>Cafeteria Manager</option>
					<option value='cashier'>Cashier</option>
					<option value='finance'>Finance</option>
          <option value='superuser'>SuperUser</option>
          <option value='user'>User</option>
				</select>
			</div>
			<div class="text-center form-group">
				<button type="submit" style="width:220px" class="btn btn-large btn-primary" confirm="Are you sure, {{name}}?"  confirm-settings="{size: 'sm'}"><!--onclick="confirm('Are you sure?');"-->Set Role</button>
			</div>
			<div data-ng-show="success" class="text-center text-success">
				<strong>{{success}}</strong>
			</div>
			<div data-ng-show="error" class="text-center text-danger">
				<strong data-ng-bind="error">{{error}}</strong>
			</div>
		</fieldset>
	</form>
</div>
</div>





<!-- change employee ID-->
<div class="list-group-item clearfix">

	<!--ALERT BOX FOR HELP-->
			<script type="text/ng-template" id="alert.html">
					<div class="alert" style="background-color:#fa39c3;color:white" role="alert">
						<div ng-transclude></div>
					</div>
			</script>

			<div  data-ng-controller="MenuItemsController">
				<h4> Change employee ID <button id="alertUser" type="button" class='btn btn-default' ng-click="helpAlert()" style="float: right;"> ?</button> </h4>
				<alert ng-show="alertUser == true"  type="warning" close="closeAlert($index)">{{alert15.msg}}</alert>
			</div>
	<!--END ALERT BOX -->

    <div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">
        <form name="userForm" data-ng-submit="changeEmployeeID(userForm.$valid)" class="signin form-horizontal" autocomplete="on">
            <fieldset>
                <div class="form-group" >
                    <!--label for="currentEmp_id">Current Employee ID</label>
                    <input type="text" id="currentEmp_id" name="currentEmp_id" class="form-control" data-ng-model="currentEmp_id" placeholder="Current Employee ID"-->
                    <label>Current Employee ID </label>
                    <div ng-init="loadEmployees()" >
                    <select id="currentEmp_id" name="currentEmp_id" class="form-control" data-ng-model='currentEmp_id'/>
                        <option ng-repeat="employee in employees" value="{{employee.username}}"> {{employee.username}}</option>
                    </select><br>
                    </div>

                </div>
                <div class="form-group">
                    <label for="newEmp_id">New Employee ID</label>
                    <input type="text" id="newEmp_id" name="newEmp_id" class="form-control" data-ng-model="newEmp_id" placeholder="New Employee ID">
                </div>
                <div class="text-center form-group">
                    <button type="submit"  style="width:220px" class="btn btn-large btn-primary">Change Employee ID</button>
                </div>
                <div data-ng-show="successOne" class="text-center text-success">
                    <strong>{{successOne}}</strong>
                </div>
                <div data-ng-show="errorOne" class="text-center text-danger">
                    <strong data-ng-bind="errorOne">{{errorOne}}</strong>
                </div>
            </fieldset>
        </form>
    </div>
</div>

<!-- remove employee -->
<div class="list-group-item clearfix">

	<!--ALERT BOX FOR HELP-->
			<script type="text/ng-template" id="alert.html">
					<div class="alert" style="background-color:#fa39c3;color:white" role="alert">
						<div ng-transclude></div>
					</div>
			</script>

			<div  data-ng-controller="MenuItemsController">
				<h4> Remove employee <button id="alertUser" type="button" class='btn btn-default' ng-click="helpAlert()" style="float: right;"> ?</button> </h4>
				<alert ng-show="alertUser == true"  type="warning" close="closeAlert($index)">{{alert16.msg}}</alert>
			</div>
	<!--END ALERT BOX -->

    <div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">
        <form name="userForm" data-ng-submit="removeEmployee(userForm.$valid)" class="signin form-horizontal" autocomplete="on">
            <fieldset>
                <div class="form-group" >
                    <label for="empId">Employee ID</label>
                    <!--input type="text" id="empId" name="empId" class="form-control" data-ng-model="empId" placeholder="Employee ID"--> <br>
                    <div ng-init="loadEmployees()" >
                        <select id="empId" name="empId" class="form-control" data-ng-model='empId'/>
                        <option ng-repeat="employee in employees" value="{{employee.username}}"> {{employee.username}}</option>
                        </select><br>
                    </div>
                    <!--label>Current Employee ID </label>
                    <div ng-init="loadEmployees()" data-ng-controller="SettingsController" >
                        <select id="currentEmp_id" name="currentEmp_id" class="form-control" data-ng-model = 'currentEmp_id'/>
                        <option ng-repeat="employee in employees" value="employee.username"> {{employee.username}}</option>
                        </select><br>
                    </div-->
                </div>
                <div class="text-center form-group">
                    <button type="submit"  style="width:220px" class="btn btn-large btn-primary">Remove Employee</button>
                </div>
                <div data-ng-show="successFour" class="text-center text-success">
                    <strong>{{successFour}}</strong>
                </div>
                <div data-ng-show="errorFour" class="text-center text-danger">
                    <strong data-ng-bind="errorFour">{{errorFour}}</strong>
                </div>
            </fieldset>
        </form>
    </div>
</div>

<div class="list-group-item clearfix">

	<!--ALERT BOX FOR HELP-->
			<script type="text/ng-template" id="alert.html">
					<div class="alert" style="background-color:#fa39c3;color:white" role="alert">
						<div ng-transclude></div>
					</div>
			</script>

			<div  data-ng-controller="MenuItemsController">
				<h4> Set system wide spending limit (ZAR)<button id="alertUser" type="button" class='btn btn-default' ng-click="helpAlert()" style="float: right;"> ?</button> </h4>
				<alert ng-show="alertUser == true"  type="warning" close="closeAlert($index)">{{alert17.msg}}</alert>
			</div>
	<!--END ALERT BOX -->

    <div class="col-xs-offset-2 col-xs-8 col-md-offset-5 col-md-2">
		<form name="setLimitForm"  style="width:220px" data-ng-submit="setSystemWideLimit(userForm.$valid)" class="signin form-horizontal" autocomplete="off">
			<fieldset>
		<div class="form-group">
			<label for="limit">Set System wide spending limit (ZAR)</label>
			<input type="number" id="limit"  name="limit" data-ng-model="limit" class="form-control" min = 0>
		</div>
		<div class="text-center form-group">
			<button type="submit" class="btn btn-large btn-primary">Set spending limit</button>
		</div>
		<div data-ng-show="successTwo" class="text-center text-success">
			<strong>{{successTwo}}</strong>
		</div>
		<div data-ng-show="errorTwo" class="text-center text-danger">
			<strong data-ng-bind="errorTwo">{{errorTwo}}</strong>
		</div>
	</fieldset>
	</form>
  </div>
  </div>


 </div>
</div>
</section>
